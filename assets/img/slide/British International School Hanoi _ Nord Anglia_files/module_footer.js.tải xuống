(()=>{"use strict";var e=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPod","iPad"],r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return!0;return!1};function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function o(e){for(var o=1;o<arguments.length;o++){var a=null!=arguments[o]?arguments[o]:{};o%2?r(Object(a),!0).forEach((function(r){t(e,r,a[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var a,n,i,s,c,l,p,f,u,d,h,v=function(e){var t=e.$doms,r=e.data,a=void 0===r?null:r;if(a&&Object.keys(a).length)dataLayer.push(o(o({},a),{},{site_build:"rome"}));else{(t&&t.length?t:$(".only-for-datalayer-tracking")).on("click",(function(){var e=$(this);if(!e.hasClass("swiper-button-disabled")){var t=o({},e.data("datalayer"));if(e.hasClass("swiper-custom-prev")||e.hasClass("swiper-custom-next")){var r=e.attr("aria-controls"),a=$("#".concat(r)),n=a.parent(),i=[];if(n.hasClass("js-6-4-container")){var s=n.parent().find(".js-6-4-pagination"),c=+s.html().slice(-2),l=+s.html().slice(0,2);e.hasClass("swiper-custom-prev")?--l<1&&(l=c):e.hasClass("swiper-custom-next")&&++l>c&&(l=1);var p=(i=[l]).join();t.event_label+="|".concat(p),dataLayer.push(o(o({},t),{},{site_build:"rome"}))}else setTimeout((function(){for(var e=a.find(".swiper-slide-active"),r=0;r<e.length;r++)i.push(+$(e[r]).attr("aria-label").split("/")[0]);var n=i.join();t.event_label+="|".concat(n),dataLayer.push(o(o({},t),{},{site_build:"rome"}))}),0)}else dataLayer.push(o(o({},t),{},{site_build:"rome"}))}}))}},g=function(){if(dataLayer&&dataLayer.length)for(var e=0;e<dataLayer.length;e++){var t=dataLayer[e];if("function"!=typeof t)for(var r=Object.keys(t),o=0;o<r.length;o++){if("page_name"==r[o])return t}}};a=!1,n="",i=function(){var e=$(".js-sign-up");null!=e&&e.on("click",(function(t){var r,o,i,s,c,l;e.hasClass("disabled")||(r=$(".corporate-footer__newsletter-action--input"),o=$(".corporate-footer__newsletter-action"),i=$(".corporate-footer__term--checkbox-wrapper"),s=$(".corporate-footer__term"),c=[],/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(n)||(o.addClass("error"),c.push(r)),i&&i.length&&(a||(s.addClass("error"),c.push(i))),c).length>0?t.preventDefault():(v({data:{event:"submission",event_category:null===(l=g())||void 0===l?void 0:l.page_name,event_action:"form_click",event_label:"newsletter:signup|footer",event_position:"footer"}}),e.addClass("disabled"),a=!1,n="")}))},s=$(".corporate-footer"),c=$(".corporate-footer-social-wechat"),l=$(".footer-wechat-QRcode-wrapper"),p=l.find(".footer-wechat-QRcode-arrow"),f=window.innerWidth>=992,u=e(),d=function(e){var t=$(e.currentTarget),r=h(s),o=h(l),a=t.offset().left,n=parseFloat(t.css("width"))/2,i=a-r.paddingL-r.marginL,c=r.fullW+r.marginL-a-r.paddingR-n,f=o.fullW/2,u={},d={};l.attr("style",""),p.attr("style",""),i<=f&&(u={left:"-".concat(Math.abs(i),"px")},d={left:"".concat(i+n-6,"px")}),i>=f&&c>=f&&(u={left:"50%",transform:"translateX(-50%)"},d={left:"50%",transform:"translateX(-50%)"}),f>=c&&(u={right:"-".concat(Math.abs(Math.abs(c)-n),"px")},d={right:"".concat(c-6)}),l.css(u),p.css(d)},h=function(e){return{w:e.width(),h:e.height(),fullW:parseFloat(e.css("width")),fullH:parseFloat(e.css("height")),paddingL:parseFloat(e.css("padding-left")),paddingR:parseFloat(e.css("padding-right")),marginL:parseFloat(e.css("margin-left")),marginR:parseFloat(e.css("margin-right"))}},$((function(){var t,r,o,s,l,p;i(),$(".corporate-footer__backTop").on("click",(function(){$("html, body").animate({scrollTop:0},1e3)})),c.on("mouseover",(function(e){f&&!u&&(d(e),c.addClass("open"))})),c.on("mouseout",(function(){f&&!u&&c.removeClass("open")})),c.on("click",(function(e){e.preventDefault(),f&&!u||(d(e),c.toggleClass("open"))})),$(window).resize((function(){f=window.innerWidth>=992,u=e()})),document.addEventListener("click",(function(e){if(!f||u){for(var t=0;t<c.length;t++)if($.contains(c[t],e.target))return;c.removeClass("open")}}),!1),t=$(".corporate-footer__newsletter-action--input"),r=$(".corporate-footer__newsletter-action"),t.on("input",(function(){var e=t.val().trim().toLowerCase();t.val(e),r.removeClass("error"),n=e})),o=$(".corporate-footer__term--checkbox-wrapper"),s=$(".corporate-footer__term"),o&&o.length&&o.on("click",(function(){var e=o.hasClass("checked");e?o.removeClass("checked"):o.addClass("checked"),a=!e,s.removeClass("error")})),l=$(".corporate-footer__support-email a"),p=$(".corporate-footer__support-phone a"),l&&l.length&&l.on("click",(function(){v({data:{event:"click",event_category:"footer",event_action:"link_click",event_label:"footer|support|email",event_position:"footer"}})})),p&&p.length&&p.on("click",(function(){v({data:{event:"click",event_category:"footer",event_action:"link_click",event_label:"footer|support|phone",event_position:"footer"}})}))}))})();