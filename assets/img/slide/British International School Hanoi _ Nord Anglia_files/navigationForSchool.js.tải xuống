(()=>{"use strict";function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=function(){var e=navigator.userAgent;return/(iPhone|iPad|iPod|iOS)/i.test(e)};function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var l=function(e){var n=e.$doms,t=e.data,i=void 0===t?null:t;if(i&&Object.keys(i).length)dataLayer.push(o(o({},i),{},{site_build:"rome"}));else{(n&&n.length?n:$(".only-for-datalayer-tracking")).on("click",(function(){var e=$(this);if(!e.hasClass("swiper-button-disabled")){var n=o({},e.data("datalayer"));if(e.hasClass("swiper-custom-prev")||e.hasClass("swiper-custom-next")){var t=e.attr("aria-controls"),i=$("#".concat(t)),a=i.parent(),r=[];if(a.hasClass("js-6-4-container")){var l=a.parent().find(".js-6-4-pagination"),c=+l.html().slice(-2),s=+l.html().slice(0,2);e.hasClass("swiper-custom-prev")?--s<1&&(s=c):e.hasClass("swiper-custom-next")&&++s>c&&(s=1);var u=(r=[s]).join();n.event_label+="|".concat(u),dataLayer.push(o(o({},n),{},{site_build:"rome"}))}else setTimeout((function(){for(var e=i.find(".swiper-slide-active"),t=0;t<e.length;t++)r.push(+$(e[t]).attr("aria-label").split("/")[0]);var a=r.join();n.event_label+="|".concat(a),dataLayer.push(o(o({},n),{},{site_build:"rome"}))}),0)}else dataLayer.push(o(o({},n),{},{site_build:"rome"}))}}))}},c=function(){if(dataLayer&&dataLayer.length)for(var e=0;e<dataLayer.length;e++){var n=dataLayer[e];if("function"!=typeof n)for(var t=Object.keys(n),i=0;i<t.length;i++){if("page_name"==t[i])return n}}};$((function(){function n(e,n){e&&(e.style.display=n?"":"none")}function a(e,n,i,a){var r,o,l,c;e&&(n?((r=e.classList).add.apply(r,t(i)),(o=e.classList).remove.apply(o,t(a))):((l=e.classList).add.apply(l,t(a)),(c=e.classList).remove.apply(c,t(i))))}var r,o,s,u,g,h=function(){function r(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,r),this.rootElem=void 0,this.elems={},this.isFixedNav=!1,this.isFixedNavDisplayed=!1,this.position="static",this.isDisplayed=!0,this.isMenuOpen=!1,this.navMainSelectedIndex=-1,this.isSearchBarOpen=!1,this.islanguageSelectorMobileOpen=!1,this.isLanguageSelectorInlineOpen=!1,this.enquireNowOpen=!1,this.enquireNowFormOpen=!1}var o,s,u;return o=r,u=[{key:"create",value:function(e){var n=new r;return n.rootElem=e,n.init(),n}}],(s=[{key:"init",value:function(){var e=this,n=this.elems,i=this.rootElem;n.homepageNavigationHeader=i.querySelector(".homepage-navigation-header"),n.homepageNavigationMenu=i.querySelector(".homepage-navigation-menu"),n.languageSelectorMobile=i.querySelector(".language-selector-mobile"),n.languageSelectorMobileBtn=i.querySelector(".language-selector-mobile-btn"),n.languageSelectorMobileList=i.querySelector(".language-selector-mobile-list"),n.languageSelectorInline=i.querySelector(".language-selector-inline"),n.languageSelectorInlineBtn=i.querySelector(".language-selector-inline-btn"),n.languageSelectorInlineList=i.querySelector(".language-selector-inline-list"),n.enquireNowBtn=i.querySelector(".enquire-now-btn"),n.headerSearchBtn=i.querySelector(".header-search-btn"),n.menuBtn=i.querySelector(".menu-btn"),n.menuBtnIcon=i.querySelector(".menu-btn-icon"),n.menuBtnIconClose=i.querySelector(".menu-btn-icon-close"),n.searchBackBtn=i.querySelector(".search-back-btn"),n.searchBar=i.querySelector(".search-bar"),n.menuSearchBtn=i.querySelector(".menu-search-btn"),n.searchBarPanel=i.querySelector(".search-bar-panel"),n.enquireNowDropdown=i.querySelector(".enquire-now-dropdown"),n.enquireNowIntro=i.querySelector(".enquire-now-intro"),n.enquireNowFormBtn=i.querySelector(".enquire-now-form-btn"),n.secondAnchorLinks=i.querySelectorAll(".nav-secondary-item-link"),n.linksWrapper=i.querySelector(".navigation-dropdown-links-wrapper"),this.position=i.getAttribute("data-position")||"static","fixed"===this.position&&(this.isDisplayed=!1);var a=window.innerWidth-document.body.clientWidth;n.menuBtn&&n.menuBtn.addEventListener("click",(function(){var t=$(".level-2-page-header .keyfacts");e.isMenuOpen?(t&&t.length&&t.css({width:""}),e.selectNavMainItem(-1),e.toggleMenu(!1)):(t&&t.length&&t.css({width:"calc(100vw - ".concat(a,"px)")}),e.toggleMenu(!0),n.linksWrapper&&n.linksWrapper.classList.remove("open"))})),n.secondAnchorLinks&&t(n.secondAnchorLinks).forEach((function(n){n.addEventListener("click",(function(){e.toggleMenu(!1)}))})),t(i.querySelectorAll(".nav-main-item-link")).forEach((function(n,t){n.addEventListener("click",(function(i){t===e.navMainSelectedIndex&&n.getAttribute("href")||(i.preventDefault(),e.selectNavMainItem(t))}))})),n.headerSearchBtn&&n.headerSearchBtn.addEventListener("click",(function(){e.toggleSearchBarPanel(!0)})),n.menuSearchBtn&&n.menuSearchBtn.addEventListener("click",(function(){e.toggleSearchBarPanel(!0)})),n.searchBackBtn&&n.searchBackBtn.addEventListener("click",(function(){e.toggleSearchBarPanel(!1)}));var r=i.querySelector(".search-input-box-icon");r&&r.addEventListener("click",(function(){e.doSearch()}));var o=i.querySelector(".search-input");o&&o.addEventListener("keydown",(function(n){13===n.keyCode&&e.doSearch()})),n.languageSelectorMobileBtn&&(n.languageSelectorMobileBtn.addEventListener("click",(function(){e.toggleLanguageSelectorMobile(!e.islanguageSelectorMobileOpen)})),window.addEventListener("click",(function(t){jQuery.contains(n.languageSelectorMobile,t.target)||e.toggleLanguageSelectorMobile(!1)}))),n.languageSelectorInlineBtn&&(n.languageSelectorInlineBtn.addEventListener("click",(function(){e.toggleLanguageSelectorInline(!e.isLanguageSelectorInlineOpen)})),window.addEventListener("click",(function(t){jQuery.contains(n.languageSelectorInline,t.target)||e.toggleLanguageSelectorInline(!1)}))),n.linksWrapper&&(n.linksWrapper.addEventListener("click",(function(){n.linksWrapper.classList.contains("open")?n.linksWrapper.classList.remove("open"):n.linksWrapper.classList.add("open")}),!1),window.addEventListener("click",(function(e){jQuery.contains(n.linksWrapper,e.target)||n.linksWrapper.classList.remove("open")}),!1))}},{key:"toggleMenu",value:function(e){this.isMenuOpen=e;var t,r,o,s,u=this.rootElem,g=this.elems;if("static"===this.position){var h=u.getBoundingClientRect().top;if(h>0&&h<window.innerHeight){var d=window.innerHeight-h;g.homepageNavigationMenu.style.maxHeight="".concat(d,"px")}else g.homepageNavigationMenu.style.maxHeight=""}this.isMenuOpen?(document.body.style.overflowY="hidden",document.body.style.touchAction="none",function(){if(i()&&!window.preventIsDone){var e=$(document).scrollTop();$("body").css({top:"-".concat(e,"px"),position:"fixed"}),window.preventIsDone=!0}}(),l({data:{event:"click",event_category:null===(t=c())||void 0===t?void 0:t.page_name,event_action:"click",event_label:"main menu open|navigation",event_position:"navigation"}})):(document.body.style.overflowY="",document.body.style.touchAction="",function(){if(i()&&window.preventIsDone){var e=$("body").css("top");$("body").css({position:"",top:""}),window.scrollTo(0,-1*parseInt(e||"0")),window.preventIsDone=!1}}(),this.selectNavMainItem(-1),this.toggleSearchBarPanel(!1),l({data:{event:"click",event_category:null===(r=c())||void 0===r?void 0:r.page_name,event_action:"click",event_label:"main menu close|navigation",event_position:"navigation"}})),a(u,this.isMenuOpen,["menu-open"],[]),n(g.homepageNavigationMenu,this.isMenuOpen),o=g.enquireNowBtn,s=!this.isMenuOpen,o&&(o.style.visibility=s?"":"hidden"),a(g.menuBtnIcon,this.isMenuOpen,["close-icon"],[]),n(g.headerSearchBtn,this.isMenuOpen),g.languageSelectorMobile&&this.toggleLanguageSelectorMobile(!1),g.languageSelectorInline&&(this.toggleLanguageSelectorInline(!1),n(g.languageSelectorInline,!this.isMenuOpen))}},{key:"selectNavMainItem",value:function(e){var i=this;this.navMainSelectedIndex=e;var r=this.rootElem;this.navMainSelectedIndex<0?t(r.querySelectorAll(".nav-main-item")).forEach((function(e){n(e.querySelector(".nav-secondary"),!1),a(e,!0,[],["active","inactive"])})):t(r.querySelectorAll(".nav-main-item")).forEach((function(e,t){var r=t===i.navMainSelectedIndex;n(e.querySelector(".nav-secondary"),r),a(e,r,["active"],["inactive"])}))}},{key:"toggleSelf",value:function(e){this.isDisplayed=e,n(this.rootElem,this.isDisplayed)}},{key:"toggleSearchBarPanel",value:function(e){this.isSearchBarOpen=e;var t=this.rootElem,i=this.elems,a=window.innerWidth>=992?72:68,r=t.querySelector(".homepage-navigation-menu-body"),o=t.querySelector(".nav-main"),l=r.getBoundingClientRect().height-144-a,c=t.querySelector(".search-input");i.searchBarPanel&&(this.isSearchBarOpen?i.searchBarPanel.style.height="".concat(l,"px"):(i.searchBarPanel.style.height="",c.value="")),n(i.headerSearchBtn,!this.isSearchBarOpen),n(i.searchBarPanel,this.isSearchBarOpen),n(i.menuSearchBtn,!this.isSearchBarOpen),n(o,!this.isSearchBarOpen),this.isSearchBarOpen&&c.focus()}},{key:"toggleLanguageSelectorMobile",value:function(e){this.islanguageSelectorMobileOpen=e;var t=this.elems;a(t.languageSelectorMobile,this.islanguageSelectorMobileOpen,["menu-open"],[]),n(t.languageSelectorMobileList,this.islanguageSelectorMobileOpen)}},{key:"toggleLanguageSelectorInline",value:function(e){this.isLanguageSelectorInlineOpen=e;var t=this.elems;a(t.languageSelectorInline,this.isLanguageSelectorInlineOpen,["menu-open"],[]),n(t.languageSelectorInlineList,this.isLanguageSelectorInlineOpen)}},{key:"doSearch",value:function(){var e=this.rootElem,n=e.getAttribute("data-search-path")||"/search",t=e.querySelector(".search-input").value,i="".concat(n,"?keyword=").concat(encodeURIComponent(t));window.location.href=i}}])&&e(o.prototype,s),u&&e(o,u),r}();r=document.querySelector('.homepage-navigation-for-school[data-position="static"]'),o=document.querySelector('.homepage-navigation-for-school[data-position="fixed"]'),h.create(r),s=h.create(o),u=document.querySelector(".quick-jump-links"),(g=function(){var e=window.innerWidth>=992?144:106;document.querySelector(".homepage-navigation-container").getBoundingClientRect().top+e<=0?u&&u.getBoundingClientRect().top<=88?s.toggleSelf(!1):s.toggleSelf(!0):s.toggleSelf(!1)})(),document.addEventListener("scroll",(function(){g()}))}))})();